<!DOCTYPE html>
<html lang="en">
<head> 
    <script src="/scripts/logo2.js" defer></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/styles/index60.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet">
    <title>Nand Studios - official site</title>
    <!-- Firebase JavaScript SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js"></script>
    <script type="module" src="/scripts/firebaseInit.js"></script>
    
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">


    <script type="module">
        // Initialisierung der Firebase-Module
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.1.3/firebase-app.js";
        import { getFirestore, collection, doc, getDoc } from "https://www.gstatic.com/firebasejs/9.1.3/firebase-firestore.js";
    
        // Konfiguration für Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyDBTMH5SzACrkyiXjJKmn646FpZ52te-BE",
            authDomain: "nand-studios.firebaseapp.com",
            projectId: "nand-studios",
            storageBucket: "nand-studios.appspot.com",
            messagingSenderId: "757182836081",
            appId: "1:757182836081:web:fcbd06ff53d632bbf7dad0",
            measurementId: "G-NW0JM7YR07"
        };
    
        // Initialisierung von Firebase
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
    
        // Variablen für die Links
        let CapyRunMobileDownloadLinkV = '';
        let CamelSimulatorDownloadLinkV = '';
        let BananaClickerDownloadLinkV = '';
        let FallRunDownloadLinkV = '';
        let SupermarketSimulatorDownloadLinkV = '';
        let WebsiteVersionV = '';
        let CamelSimulatorVersionV = '';
        let BananaClickerVersionV = '';
        let CapyRunVersionV = '';
        let SupermarketSimulatorVersionV = '';
    
        // Abrufen der Links aus der Firestore-Datenbank
        const downloadDocRef = doc(db, 'links', 'linkdoc');
        const versionDocRef = doc(db, 'links', 'versiondoc');

    const downloadButtons = [
    { selector: '.CapyRunMobileDownloadButton', variable: 'CapyRunMobileDownloadLinkV' },
    { selector: '.CamelSimulatorDownloadButton', variable: 'CamelSimulatorDownloadLinkV' },
    { selector: '.BananaClickerDownloadButton', variable: 'BananaClickerDownloadLinkV' },
    { selector: '.FallRunDownloadButton', variable: 'FallRunDownloadLinkV' },
    { selector: '.SupermarketSimulatorDownloadButton', variable: 'SupermarketSimulatorDownloadLinkV' }
];

const versionTexts = [
    { selector: '.WebsiteVersionText', variable: 'WebsiteVersionV' },
    { selector: '.CapyRunVersionText', variable: 'CapyRunVersionV' },
    { selector: '.CamelSimulatorVersionText', variable: 'CamelSimulatorVersionV' },
    { selector: '.BananaClickerVersionText', variable: 'BananaClickerVersionV' },
    { selector: '.SupermarketSimulatorVersionText', variable: 'SupermarketSimulatorVersionV' }
];

function updateLinkAndLog(docSnapshot, dataVariable, buttonsArray) {
    if (docSnapshot.exists()) {
        const data = docSnapshot.data();
        window[dataVariable] = data[dataVariable];
        console.log(`Firebase-Link ${dataVariable}:`, window[dataVariable]);
        buttonsArray.forEach(button => {
            document.querySelectorAll(button.selector).forEach(btn => {
                btn.href = window[dataVariable];
            });
        });
    }
}

function updateVersionTextAndLog(docSnapshot, dataVariable, textsArray) {
    if (docSnapshot.exists()) {
        const data = docSnapshot.data();
        window[dataVariable] = data[dataVariable];
        console.log(`Firebase-Link ${dataVariable}:`, window[dataVariable]);
        textsArray.forEach(text => {
            document.querySelectorAll(text.selector).forEach(txt => {
                txt.textContent = window[dataVariable];
            });
        });
    }
}
    getDoc(downloadDocRef).then(docSnapshot => {
    updateLinkAndLog(docSnapshot, 'CapyRunMobileDownload', downloadButtons.slice(0, 1));
    updateLinkAndLog(docSnapshot, 'CamelSimulatorDownload', downloadButtons.slice(1, 2));
    updateLinkAndLog(docSnapshot, 'BananaClickerDownload', downloadButtons.slice(2, 3));
    updateLinkAndLog(docSnapshot, 'FallRunDownload', downloadButtons.slice(3, 4));
    updateLinkAndLog(docSnapshot, 'SupermarketSimulatorDownload', downloadButtons.slice(4, 5));
});

getDoc(versionDocRef).then(docSnapshot => {
    updateVersionTextAndLog(docSnapshot, 'WebsiteVersion', versionTexts.slice(0, 1));
    updateVersionTextAndLog(docSnapshot, 'CapyRunVersion', versionTexts.slice(1, 2));
    updateVersionTextAndLog(docSnapshot, 'CamelSimulatorVersion', versionTexts.slice(2, 3));
    updateVersionTextAndLog(docSnapshot, 'BananaClickerVersion', versionTexts.slice(3, 4));
    updateVersionTextAndLog(docSnapshot, 'SupermarketSimulatorVersion', versionTexts.slice(4, 5));
});
</script>

<style>
    body {
    animation: changeBackground 15s infinite; 
    transition: background-image 0.3s ease;
    background-size: cover;
    background-position: center;
    background-attachment: fixed;
    margin: 0;
    padding: 0;
    background-image: url('');
}
    @keyframes changeBackground {
    0%, 33.33% {
        background-image: url('/media/capyback.png');
    }
    33.33%, 66.66% {
        background-image: url('/media/backg.png');
    }
    66.66%, 100% {
        background-image: url('/media/bananaBack.png');
    }
} 
</style>

</head>

<body>
    <div id="vid">
        <video id="introVideo" width="100%" height="100%" autoplay muted>
        <source src="/media/startvideo.mp4" type="video/mp4">
        Your browser does not support the video tag.
        </video>
    </div>


    <div>
        
        <div id ="header-container"></div>
    
        <div id="bottonhead">
            <iframe frameborder="0" src="/media/windows.svg" class="begin" width="18" height="18"></iframe>
            <a class="SupermarketSimulatorDownloadButton" target="_blank">Supermarket Simulator</a>
            <a id="text" ></a>
            <iframe frameborder="0" class="icon" src="/media/windows.svg" width="18" height="18"></iframe>
            <a href="downloads/nandstudiosinstaller.exe" download target="_blank">Launcher</a>
            <a id="text" ></a>
            <iframe frameborder="0" class="icon" src="/media/windows.svg" width="18" height="18"></iframe>
            <a class="CamelSimulatorDownloadButton" target="_blank">Camel Simulator</a>
         </div>

         <div id="imagetext">
            <a class="FallRunDownloadButton" target="_blank">DOWNLOAD FALLRUN V0.2</a>
         </div>
         
    </div>

    <div id="logo-container">
        <div id="logo">
            <div id="logotext">Nand Studios</div>
        </div>
    
        <div id="mainButtonContainer">
            <div id="mainButtonDiv">
              <a href="https://nand-studios.com/camelsimulator" class="mainb" id="mainC">camelsimulator</a>
              <a href="https://nand-studios.com/capyrun" class="mainb" id="mainCapy">capyrun</a> 
              <a href="https://nand-studios.com/bananaclicker" class="mainb" id="mainBanana">bananaclicker</a>
              <a href="https://nand-studios.com/supermarketsimulator" class="mainb" id="mainBanana">supermarketsimulator</a>
            </div>
        </div>
    </div>
        
    <div class="footer">
        <div>
            <hr class="custom-line">
        </div>
        <div>
            <a href="mailto:help@nand-studios.com" id="email-button-footer" target="_blank">EMAIL</a>
            <a href="https://discord.gg/QeBecQ2sbg" id="email-button-footer" target="_blank">DISCORD</a>
            <a href="https://github.com/NANDStudiosoooooooooooooooooooooo/email" id="email-button-footer" target="_blank">NANDMAIL</a>
            <a href="https://github.com/NANDStudiosoooooooooooooooooooooo/upload" id="email-button-footer" target="_blank">UPLOAD</a>
        </div>
        <div>
            <hr class="custom-line">
        </div>
        <div>
            <a id="version-text" class="">© NAND STUDIOS 2024</a>
            <a id="version-text" class="WebsiteVersionText">VERSION:</a>
        </div>
    </div>

    <script>
        // Header set
        fetch('header.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('header-container').innerHTML = data;
            });
    </script>
</body>
<iframe frameborder="0" src="https://itch.io/embed/2851464?bg_color=f4fefd&amp;fg_color=222222&amp;link_color=FF66C4&amp;border_color=9ccece" width="552" height="167"><a href="https://nandstudios.itch.io/fallrun2">Fall Run 2 | open BETA by NANDStudios</a></iframe>
</html>
